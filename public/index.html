<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Seabnb</title>
    <LINK href="http://localhost:3003/dist/bundle.css" rel="stylesheet">
  </head>
  <body>
    <div id="similar-listings"></div>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>

    <script src="http://localhost:3003/dist/bundle.js"></script>

    <script>
      const getListingId = (path) => {
        const parts = path.split('/');
        if (parts[1] === 'listings') {
          const id = parseInt(parts[2], 10);
          if (typeof id === 'number' && id >= 0 && id < 200) {
            return id;
          }
        }
        return null;
      };

      const listingId = getListingId(window.location.pathname) ||
                  Math.floor(Math.random() * 200);

      ReactDOM.render(
        React.createElement(SimilarListings, { id: listingId }),
        document.getElementById('similar-listings'),
      );
    </script>
  </body>
</html>